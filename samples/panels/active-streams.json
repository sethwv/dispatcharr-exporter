{
  "id": 1,
  "type": "table",
  "title": "Streams",
  "gridPos": {
    "x": 0,
    "y": 9,
    "h": 7,
    "w": 24
  },
  "fieldConfig": {
    "defaults": {
      "custom": {
        "align": "center",
        "cellOptions": {
          "type": "auto",
          "wrapText": false
        },
        "inspect": false,
        "filterable": false
      },
      "mappings": [],
      "thresholds": {
        "mode": "absolute",
        "steps": [
          {
            "color": "green",
            "value": null
          },
          {
            "color": "red",
            "value": 80
          }
        ]
      }
    },
    "overrides": [
      {
        "matcher": {
          "id": "byName",
          "options": "Channel"
        },
        "properties": [
          {
            "id": "custom.width",
            "value": 100
          },
          {
            "id": "decimals",
            "value": 0
          }
        ]
      },
      {
        "matcher": {
          "id": "byName",
          "options": "Logo"
        },
        "properties": [
          {
            "id": "custom.cellOptions",
            "value": {
              "type": "image"
            }
          },
          {
            "id": "custom.width",
            "value": 200
          },
          {
            "id": "custom.align",
            "value": "center"
          }
        ]
      },
      {
        "matcher": {
          "id": "byName",
          "options": "Uptime"
        },
        "properties": [
          {
            "id": "unit",
            "value": "s"
          },
          {
            "id": "decimals",
            "value": 0
          },
          {
            "id": "custom.width",
            "value": 100
          },
          {
            "id": "custom.filterable",
            "value": false
          }
        ]
      },
      {
        "matcher": {
          "id": "byName",
          "options": "state"
        },
        "properties": [
          {
            "id": "custom.cellOptions",
            "value": {
              "applyToRow": true,
              "type": "color-background",
              "wrapText": false
            }
          },
          {
            "id": "custom.hidden",
            "value": true
          },
          {
            "id": "mappings",
            "value": [
              {
                "options": {
                  "active": {
                    "color": "#55a64b80",
                    "index": 0
                  },
                  "buffering": {
                    "color": "#ff780a80",
                    "index": 1
                  },
                  "error": {
                    "color": "#e02f4480",
                    "index": 3
                  },
                  "waiting_for_clients": {
                    "color": "#1f61c480",
                    "index": 2
                  }
                },
                "type": "value"
              }
            ]
          },
          {
            "id": "color",
            "value": {
              "mode": "palette-classic-by-name"
            }
          }
        ]
      },
      {
        "matcher": {
          "id": "byValue",
          "options": {
            "op": "neq",
            "reducer": "allValues",
            "value": 99999999
          }
        },
        "properties": [
          {
            "id": "custom.filterable"
          },
          {
            "id": "filterable"
          }
        ]
      },
      {
        "matcher": {
          "id": "byName",
          "options": "Provider"
        },
        "properties": [
          {
            "id": "custom.width",
            "value": 175
          }
        ]
      },
      {
        "matcher": {
          "id": "byName",
          "options": "Profile"
        },
        "properties": [
          {
            "id": "custom.width",
            "value": 100
          }
        ]
      },
      {
        "matcher": {
          "id": "byName",
          "options": "Resolution"
        },
        "properties": [
          {
            "id": "custom.width",
            "value": 100
          }
        ]
      },
      {
        "matcher": {
          "id": "byName",
          "options": "Progress"
        },
        "properties": [
          {
            "id": "custom.cellOptions",
            "value": {
              "mode": "basic",
              "type": "gauge",
              "valueDisplayMode": "hidden"
            }
          },
          {
            "id": "unit",
            "value": "percentunit"
          },
          {
            "id": "decimals",
            "value": 0
          },
          {
            "id": "min",
            "value": 0
          },
          {
            "id": "max",
            "value": 1
          },
          {
            "id": "color",
            "value": {
              "fixedColor": "text",
              "mode": "fixed"
            }
          },
          {
            "id": "custom.width",
            "value": 75
          }
        ]
      },
      {
        "matcher": {
          "id": "byName",
          "options": "Program"
        },
        "properties": [
          {
            "id": "custom.align",
            "value": "auto"
          }
        ]
      }
    ]
  },
  "transformations": [
    {
      "id": "labelsToFields",
      "options": {
        "mode": "columns"
      }
    },
    {
      "id": "merge",
      "options": {}
    },
    {
      "id": "organize",
      "options": {
        "excludeByName": {
          "Time": true,
          "Value #A": false,
          "Value #B": true,
          "__name__": true,
          "channel_group": true,
          "channel_name": false,
          "channel_uuid": true,
          "current_description": true,
          "current_end_time": true,
          "current_start_time": true,
          "current_subtitle": true,
          "current_title": true,
          "group": true,
          "instance": true,
          "job": true,
          "next_description": true,
          "next_end_time": true,
          "next_start_time": true,
          "next_subtitle": true,
          "next_title": true,
          "previous_description": true,
          "previous_end_time": true,
          "previous_start_time": true,
          "previous_subtitle": true,
          "previous_title": true,
          "process": true,
          "profile_id": true,
          "profile_name": true,
          "program_title_full": false,
          "provider": true,
          "provider_type": true,
          "resolution": false,
          "stream_id": true,
          "stream_name": true,
          "stream_profile": true,
          "video_codec": true
        },
        "includeByName": {},
        "indexByName": {
          "Time": 11,
          "Value #A": 17,
          "Value #B": 5,
          "channel_name": 2,
          "channel_number": 0,
          "channel_uuid": 12,
          "current_description": 18,
          "current_end_time": 19,
          "current_start_time": 20,
          "current_subtitle": 21,
          "current_title": 3,
          "group": 13,
          "instance": 14,
          "job": 15,
          "logo_url": 1,
          "next_description": 22,
          "next_end_time": 23,
          "next_start_time": 24,
          "next_subtitle": 25,
          "next_title": 26,
          "previous_description": 27,
          "previous_end_time": 28,
          "previous_start_time": 29,
          "previous_subtitle": 30,
          "previous_title": 31,
          "process": 16,
          "profile_name": 8,
          "program_title_full": 4,
          "provider": 7,
          "provider_full": 9,
          "resolution": 6,
          "state": 10
        },
        "renameByName": {
          "Value": "Uptime",
          "Value #A": "Uptime",
          "Value #B": "Progress",
          "channel_name": "Name",
          "channel_number": "Channel",
          "current_title": "Title",
          "logo_url": "Logo",
          "profile_name": "Profile",
          "program_title_full": "Program",
          "provider": "Provider",
          "provider_full": "Provider",
          "resolution": "Resolution"
        }
      }
    },
    {
      "id": "convertFieldType",
      "options": {
        "conversions": [
          {
            "destinationType": "number",
            "targetField": "Channel"
          }
        ],
        "fields": {}
      }
    },
    {
      "id": "sortBy",
      "options": {
        "fields": {},
        "sort": [
          {
            "desc": true,
            "field": "Uptime"
          }
        ]
      }
    }
  ],
  "pluginVersion": "12.0.0",
  "targets": [
    {
      "editorMode": "code",
      "exemplar": false,
      "expr": "label_join(\n  dispatcharr_stream_uptime_seconds\n  * on(channel_uuid, channel_number) group_left(channel_name, logo_url, state, provider, profile_name, resolution)\n      dispatcharr_stream_metadata,\n  \"provider_full\",\n  \" \",\n  \"provider\",\n  \"profile_name\"\n)",
      "format": "table",
      "instant": true,
      "range": false,
      "refId": "A"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "Vc-zI2snz"
      },
      "editorMode": "code",
      "exemplar": false,
      "expr": "label_join(\n  dispatcharr_stream_programming{current_subtitle!=\"\"}\n  * on(channel_uuid, channel_number) group_left(channel_name, logo_url, state, provider, profile_name, resolution)\n      dispatcharr_stream_metadata,\n  \"program_title_full\",\n  \" - \",\n  \"current_title\",\n  \"current_subtitle\"\n)\nor\nlabel_join(\n  dispatcharr_stream_programming{current_subtitle=\"\"}\n  * on(channel_uuid, channel_number) group_left(channel_name, logo_url, state, provider, profile_name, resolution)\n      dispatcharr_stream_metadata,\n  \"program_title_full\",\n  \"\",\n  \"current_title\"\n)",
      "format": "table",
      "hide": false,
      "instant": true,
      "range": false,
      "refId": "B"
    }
  ],
  "datasource": {
    "type": "prometheus",
    "uid": "Vc-zI2snz"
  },
  "options": {
    "showHeader": false,
    "cellHeight": "sm",
    "footer": {
      "show": false,
      "reducer": [
        "count"
      ],
      "countRows": true,
      "fields": "",
      "enablePagination": false
    },
    "sortBy": []
  }
}